var makeVideoPlayableInline=function(){"use strict";function e(e){var r={start:function n(){if(!r.lastCall){r.lastCall=Date.now()}var n=Date.now()-r.lastCall;r.id=requestAnimationFrame(r.start);r.lastCall=Date.now();e(n)},stop:function i(){cancelAnimationFrame(r.id);delete r.id;delete r.lastCall}};return r}function r(e,r,n,i){var t=function a(r){var t=n&&e[n];delete e[n];if(Boolean(t)===Boolean(i)){r.stopImmediatePropagation()}};e.addEventListener(r,t,false);return{forget:function u(){return e.removeEventListener(r,t,false)}}}function n(e,r,n,i){function t(){return n[r]}function a(e){n[r]=e}if(i){a(e[r])}Object.defineProperty(e,r,{get:t,set:a})}var i=typeof Symbol==="undefined"?function(e){return"@"+(e?e:"@")+Math.random().toString(26)}:Symbol;var t=/iPhone|iPod/i.test(navigator.userAgent);var a=i("iiv");var u=i("iive");var d=i("native-play");var o=i("native-pause");function v(e){var r=new Audio;r.src=e.currentSrc||e.src;return r}var s=Array(3);s.i=0;function f(e,r){e.currentTime=r;s[++s.i%3]=r*100|0/100}function l(e){var r=this;if(!r.hasAudio){r.driver.currentTime=r.video.currentTime+e/1e3;if(r.video.loop){r.driver.currentTime%=r.video.duration}else{r.driver.currentTime=Math.min(r.video.duration,r.driver.currentTime)}}f(r.video,r.driver.currentTime);if(r.video.ended){r.video.pause();return false}}function c(){var e=this;var r=e[a];if(e.webkitDisplayingFullscreen){e[d]();return}if(!e.buffered.length){e.load()}r.driver.play();r.updater.start();e.dispatchEvent(new Event("play"));e.dispatchEvent(new Event("playing"))}function p(){var e=this;var r=e[a];r.updater.stop();r.driver.pause();e.dispatchEvent(new Event("pause"));if(e.ended){e[u]=true;e.dispatchEvent(new Event("ended"))}if(e.webkitDisplayingFullscreen){e[o]()}}function m(r,n){var i=r[a]={};i.hasAudio=n;i.video=r;i.updater=e(l.bind(i));if(n){i.driver=v(r)}else{i.driver={muted:true,paused:true,pause:function t(){i.driver.paused=true},play:function u(){i.driver.paused=false;if(r.currentTime===r.duration){r.currentTime=0}}}}r.addEventListener("webkitbeginfullscreen",function(){if(!r.paused){r.pause();r[d]()}else if(n&&!i.driver.buffered.length){i.driver.load()}});if(n){r.addEventListener("webkitendfullscreen",function(){i.driver.currentTime=i.video.currentTime});r.addEventListener("seeking",function(){if(s.indexOf(i.video.currentTime*100|0/100)>=0){return}i.driver.currentTime=i.video.currentTime})}}function y(e,i){var t=e[a];e[d]=e.play;e[o]=e.pause;e.play=c;e.pause=p;n(e,"paused",t.driver);n(e,"muted",t.driver,true);if(i){n(e,"loop",t.driver,true)}r(e,"seeking");r(e,"seeked");r(e,"ended",u,false)}function g(e){var r=arguments.length<=1||arguments[1]===undefined?true:arguments[1];var n=arguments.length<=2||arguments[2]===undefined?true:arguments[2];if(n&&!t){return}m(e,r);y(e,r);if(!r&&e.autoplay){e.play()}}return g}();
